<div class="row pt-3 pb-3" *ngIf="batchId != null">
	<div class="col-sm-12 col-md-12 col-lg-12">
		<div class="card">
			<div class="card-header">Batch Progress</div>
			<div class="card-body">
				<app-loading-spinner *ngIf="showSpinner"></app-loading-spinner>
				<div *ngIf="!showSpinner">
					<h5 class="card-title">Progress by Day</h5>
					{{percentCompleted}}% Days Completed
					<p><ngb-progressbar type="primary" [value]="percentCompleted" [height]="20">{{percentCompleted}}%</ngb-progressbar></p>
					<div *ngIf="this.subTopics !=null"><h5 class="card-title">Progress by Subtopic</h5>
					{{subPercentCompleted}}% Completed/Cancelled
					<p><ngb-progressbar type="info" [value]="subPercentCompleted" [height]="20">{{subPercentCompleted}}%</ngb-progressbar></p></div>
				</div>
				<div *ngIf="subTopicMissed > 0">
					<h5 class="card-title">Topics Missed</h5>
					<p>{{subTopicMissed}} / {{subTopicTotal}} missed topics</p>
					<div *ngFor="let list of topicArray">
						{{list.listName}}
						<ul><li *ngFor="let name of list.listItems">{{name}}</li></ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div>
		<app-loading-spinner *ngIf="showSpinner"></app-loading-spinner>
		<div *ngIf="!showSpinner" >
				<div id=pan4 class="col-md-12" *ngIf="batchId != null && this.batch.startDate != null" >
					Batch Progress By Day:
						<div>
							<div class="progress" >
							<span>{{percentCompleted}}% Days Completed</span> 
							<div class="progress-bar" [style.width]="percentCompleted + '%'" ></div>
						</div>
					</div>
				
					<div *ngIf="this.subTopics !=null">
							Batch Progress By SubTopic:
						
								<div>
									<div class="progress">
									<span>{{subPercentCompleted}}% Subtopics Completed/Cancelled</span>
									<div class="progress-bar progress" [style.width]="subPercentCompleted + '%'" > </div>
								</div>
						
							</div>
							
					</div>
					
					
					<br/>
					<div *ngIf="subTopicMissed>0">
						<h4>Topics Missed</h4>
						<p>{{subTopicMissed}} / {{subTopicTotal}} missed topics</p>
						<div>
							<ul *ngFor="let list of topicArray">
								{{list.listName}}
								<li *ngFor="let name of list.listItems">
									<p>{{name}}</p>
								</li>
							</ul>
						</div>
					</div>
				</div>

		</div>
		

</div>
